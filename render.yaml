disks:
  - name: tradesmith-data
    sizeGB: 5
    mountPath: /data

services:
  - name: tradesmith-worker
    type: service
    instanceType: standard        # 1 CPU / 2 GB
    disk: tradesmith-data         # mounts /data
    envVars:
      - key: OPENAI_API_KEY
        sync: false
      - key: FMP_API_KEY
        sync: false
    startCommand: "python worker.py"

  - name: tradesmith-daily-metrics
    type: cron
    runtime: docker
    schedule: "0 7 * * 1-5"
    envVars:
      - key: FMP_API_KEY
        sync: false

  - name: tradesmith-daily-report
    type: cron
    runtime: docker
    schedule: "0 0 * * 2-6"
    envVars:
      - key: OPENAI_API_KEY
        sync: false

  - name: tradesmith-weekly-report
    type: cron
    runtime: docker
    schedule: "0 0 * * SAT"
    envVars:
      - key: OPENAI_API_KEY
        sync: false
