{
  "name": "process_adjustments",
  "description": "Trade instructions returned by the model",
  "parameters": {
    "type": "object",
    "properties": {
      "risk_note":      { "type": "string" },
      "adjustments": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "symbol":          { "type": "string" },
            "new_weight":      { "type": "number" },
            "action":          { "type": "string" },
            "shares":          { "type": "integer" },
            "est_trade_cost":  { "type": "number" },
            "est_commission":  { "type": "number" }
          },
          "required": ["symbol","new_weight","action","shares","est_trade_cost","est_commission"]
        }
      },
      "failed_symbols": {
        "type": "array",
        "items": { "type": "string" }
      }
    },
    "required": ["risk_note","adjustments","failed_symbols"]
  }
}
